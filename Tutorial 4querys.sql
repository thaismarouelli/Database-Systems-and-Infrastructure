CREATE TABLE STUDENT(
STUDENTID CHAR(4),
STUDENTNAME VARCHAR(25),
STUDENTDOB DATE,
STUDENTGPA DECIMAL(4,2),
STUDENTSUBURB VARCHAR(20),
PRIMARY KEY (STUDENTID));

CREATE TABLE UNIT(
UNITCODE CHAR(4),
UNITNAME VARCHAR(30),
UNITDESCRIPTION VARCHAR(50),
UNITCREDITPOINTS SMALLINT,
PRIMARY KEY (UNITCODE));

CREATE TABLE TEACHER(
TEACHERID CHAR(4),
TEACHERNAME VARCHAR(25),
TEACHERDESIGNATION VARCHAR(20),
TEACHERSALARY INTEGER,
PRIMARY KEY (TEACHERID));

CREATE TABLE ENROLMENT(
ENROLMENTID CHAR(4),
SEMESTER VARCHAR(10),
STUDYYEAR SMALLINT,
STUDENTID CHAR(4),
UNITCODE CHAR(6),
PRIMARY KEY (ENROLMENTID),
FOREIGN KEY (STUDENTID) REFERENCES STUDENT(STUDENTID),
FOREIGN KEY (UNITCODE) REFERENCES UNIT(UNITCODE));

CREATE TABLE WORKLOAD(
TEACHERID CHAR(4),
UNITCODE CHAR(6),
SCHEDULEHOURS DECIMAL(4,2),
PAYRATE NUMERIC(4,2),
PRIMARY KEY (TEACHERID, UNITCODE),
FOREIGN KEY (TEACHERID) REFERENCES TEACHER(TEACHERID),
FOREIGN KEY (UNITCODE) REFERENCES UNIT(UNITCODE));

SHOW TABLES;

INSERT INTO STUDENT VALUES ("S001","MICHAEL BEVAN","1960-09-15","3.2","CHATSWOOD");
INSERT INTO STUDENT VALUES ("S002","BRIAN LARA","1965-02-10","4.0","MARSFIELD");
INSERT INTO STUDENT VALUES ("S003","VIVAN RICHARDS","1958-11-12","4.5","BURWOOD");
INSERT INTO STUDENT VALUES ("S004","JAVED MIANDAD","1966-05-05","3.5","RYDE");
INSERT INTO STUDENT VALUES ("S005","VIRAT KOHLI","1988-10-15","4.3","AUBURN");
INSERT INTO STUDENT VALUES ("S006","BABAR AZAM","1991-04-20","4.2","LAKEMBA");
INSERT INTO STUDENT VALUES ("S007","KUMAR SANGAKARA","1980-01-26","3.7","REDFERN");

SELECT * FROM STUDENT;

SHOW CREATE TABLE enrolment;
ALTER TABLE ENROLMENT
DROP FOREIGN KEY enrolment_ibfk_2;

ALTER TABLE WORKLOAD
DROP FOREIGN KEY workload_ibfk_1;

ALTER TABLE WORKLOAD
DROP FOREIGN KEY workload_ibfk_2;

ALTER TABLE UNIT
MODIFY COLUMN UNITCODE CHAR(6);

ALTER TABLE enrolment
ADD CONSTRAINT enrolment_ibfk_2 FOREIGN KEY (UNITCODE) REFERENCES UNIT(UNITCODE);

ALTER TABLE WORKLOAD
ADD CONSTRAINT workload_ibfk_1 FOREIGN KEY (UNITCODE) REFERENCES UNIT(UNITCODE);

ALTER TABLE WORKLOAD
ADD CONSTRAINT workload_ibfk_2 FOREIGN KEY (UNITCODE) REFERENCES UNIT(UNITCODE);

INSERT INTO UNIT VALUES ("MDS600","PROGRAMMING","FUNDAMENTALS OF 
COMPUTER PROGRAMMING",3);
INSERT INTO UNIT VALUES ("MDS601","DATABASES","INTRODUCTION TO 
DATABASES",3);
INSERT INTO UNIT VALUES ("MDS602","MATHEMATICS","BASIC MATHS FOR DATA 
SCIENCE",2);
INSERT INTO UNIT VALUES ("MDS603","DATA SCIENCE","INTRODUCTION TO DATA 
SCIECNE METHODOLOGY",4);
INSERT INTO UNIT VALUES ("MDS604","MACHINE LEARNING","MACHINE LEARNING 
FOR DATA SCIENCE",3);
INSERT INTO UNIT VALUES ("MDS605","BUSSINES ANALYTICS","BASICS OF 
BUSSINES ANALYTICS",2);
INSERT INTO UNIT VALUES ("MDS606","ADAVANCED DATABASES","ADVACNE TOPICS 
IN DATABASES",3);

INSERT INTO TEACHER VALUES ("T001", "WASIM AKRAM", "ASSOCIATE PROFESSOR", "200000");
INSERT INTO TEACHER VALUES ("T002","IMRAN KHAN","PROFESSOR",250000);
INSERT INTO TEACHER VALUES ("T003","KAPEL DEV","PROFESSOR",230000);
INSERT INTO TEACHER VALUES ("T004","SHAKIB UL HASSAN","LECTURER",100000);
INSERT INTO TEACHER VALUES ("T005","LARNCE KLUSNER","ASSOCIATE",150000);
INSERT INTO TEACHER VALUES ("T006","BEN STOKES","LECTURER",130000);
INSERT INTO TEACHER VALUES ("T007","DALE STAYN","SENIOR LECTURER",120000);
INSERT INTO TEACHER VALUES ("T008","GLENN MCGRATH","ASSOCIATE PROFESSOR",160000);
	
-- INSERTING RECORDS IN ENROLMENT TABLE
INSERT INTO ENROLMENT VALUES ("E001","SPRING",2020,"S001","MDS600");
INSERT INTO ENROLMENT VALUES ("E002","SPRING",2020,"S001","MDS601");
INSERT INTO ENROLMENT VALUES ("E003","WINTER",2019,"S001","MDS603");
INSERT INTO ENROLMENT VALUES ("E004","FALL",2010,"S002","MDS604");
INSERT INTO ENROLMENT VALUES ("E005","FALL",2015,"S003","MDS605");
INSERT INTO ENROLMENT VALUES ("E006","WINTER",2020,"S004","MDS606");
INSERT INTO ENROLMENT VALUES ("E007","SPRING",2000,"S005","MDS602");
INSERT INTO ENROLMENT VALUES ("E008","FALL",2022,"S006","MDS600");
INSERT INTO ENROLMENT VALUES ("E009","SPRING",2021,"S007","MDS604");
INSERT INTO ENROLMENT VALUES ("E010","FALL",2017,"S003","MDS603");
INSERT INTO ENROLMENT VALUES ("E011","WINTER",2014,"S004","MDS601");
	
-- INSERTING RECORDS IN WORKLOAD TABLE
INSERT INTO WORKLOAD VALUES ("T001","MDS600","3.5","60.50");	
INSERT INTO WORKLOAD VALUES ("T001","MDS601","3.0","50.50");	
INSERT INTO WORKLOAD VALUES ("T002","MDS603","2.5","90.50");	
INSERT INTO WORKLOAD VALUES ("T003","MDS604","2.0","65.50");	
INSERT INTO WORKLOAD VALUES ("T004","MDS605","3.5","60.00");	
INSERT INTO WORKLOAD VALUES ("T005","MDS606","1.5","70.50");	
INSERT INTO WORKLOAD VALUES ("T006","MDS602","3.5","60.50");	
INSERT INTO WORKLOAD VALUES ("T007","MDS601","2.5","55.50");	
INSERT INTO WORKLOAD VALUES ("T008","MDS606","2.0","80.50");	
INSERT INTO WORKLOAD VALUES ("T003","MDS600","1.0","70.00");	
INSERT INTO WORKLOAD VALUES ("T004","MDS602","3.5","60.50");	
INSERT INTO WORKLOAD VALUES ("T001","MDS605","3.0","65.50");

SELECT TEACHERNAME, TEACHERDESIGNATION, TEACHERSALARY
FROM TEACHER;

SELECT UNITDESCRIPTION
FROM UNIT 
WHERE UNITCREDITPOINTS =3
ORDER BY UNITNAME;

SELECT STUDENTNAME, STUDENTSUBURB
FROM STUDENT 
WHERE YEAR(STUDENTDOB) < 1980;

SELECT distinct u.UNITCODE 
FROM UNIT u, ENROLMENT e 
WHERE u.unitcode = e.unitcode AND e.semester = 'fall' AND e.studyyear > 2015;

SELECT studentname , ROUND(studentgpa,0) AS GPA
FROM student 
WHERE studentgpa >3 AND STUDENTSUBURB in ('Chatswood', 'Ryde', 'Burwood');

SELECT MAX(teachersalary) as 'Maximum Teacher Salary',
MIN(teachersalary) as 'Minimum Teacher Salary',
AVG(teachersalary) as 'Average Teacher Salary'
FROM teacher;

SELECT SUBSTR(STUDENTNAME,1, INSTR(STUDENTNAME," ")-1) AS FIRST_NAME
FROM STUDENT 
WHERE STUDENTSUBURB LIKE 'R%';

SELECT COUNT(*) AS '#Student GPA > 3.5'
FROM STUDENT 
WHERE STUDENTGPA > '3.5';




